<view class="container">
  <view class="photo-edit-content">
    <view class="canvas-view" style="background-color:#fff;width: 240.0px;height: 336px">
      <image class="nowx_mask" style="width: 292px;left: 120px;top: 164px;transform: translate(-50%, -50%) scale(1) rotate(0deg);z-index: 99;height: 163.52px" src="./images/wmark.png" mode="widthFix"></image>
      <image style="width: 240.0px;height: 336px;left: 120.0px;top: 164.0px;transform: translate(-50%, -50%) scale(1) rotate(0deg)" class="people-photo" src="{{imageData.cimg}}" bindload="bindload" catchtouchstart="touchstart" catchtouchmove="touchmove" catchtouchend="touchend"></image>
    </view>
  </view>
  <view class="imgOpt">
    <van-tabs active="{{ active }}" bind:click="clickTab" color="#2c2c2c">
      <van-tab title="背景" name="1">
        <view class="colors">
          <!-- 蓝色背景 -->
          <view bindtap="toggleBg" data-color="#438edb" class="color" style="background-color:#438edb">
            <view class="icon_select"></view>
          </view>
          <!-- 白色背景 -->
          <view bindtap="toggleBg" data-color="#ffffff" class="color" style="background-color:#ffffff">
            <view class="icon_select"></view>
          </view>
          <!-- 红色背景 -->
          <view bindtap="toggleBg" data-color="#ff0000" class="color" style="background-color:#ff0000">
            <view class="icon_select"></view>
          </view>
          <!-- 浅蓝色背景 -->
          <view bindtap="toggleBg" data-color="#66b5f2" class="color" style="background-color:#66b5f2">
            <view class="icon_select"></view>
          </view>
          <!-- 绿色背景 -->
          <view bindtap="toggleBg" data-color="#07c160" class="color" style="background-color:#07c160">
            <view class="icon_select"></view>
          </view>
          <!-- 黄色背景 -->
          <view bindtap="toggleBg" data-color="#ffc300" class="color" style="background-color:#ffc300">
            <view class="icon_select"></view>
          </view>
          <!-- 自定义颜色选项 -->
          <view bindtap="toPick" data-color="custom" class="color custom" style="display: flex; align-items: center; justify-content: center;">
            <view class="custom-bg" style="background-color: #2c2c2c;width: 100%;height: 100%;font-size: 12px;color: #fff; margin:0 auto;line-height: 12vw;text-align: center;">自定义</view>
          </view>
        </view>
      </van-tab>
    </van-tabs>

    <view class="download-view">
      <button bindtap="openSavePhoto" data-type="1" type="default" class="save-btn">保存预览照</button>
      <button bindtap="openSavePhoto" data-type="2" type="default" class="save-btn">保存AI高清照</button>
    </view>

    <color-picker bindchangeColor="pickColor" initColor="rgb(7,193,96)" show="{{pick}}" />
    <van-dialog id="van-dialog" />
  </view>
</view>